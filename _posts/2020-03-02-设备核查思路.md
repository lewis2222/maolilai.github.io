---
layout: post
title:  "基于sdk日志对imei和qimei进行分析统计"
date:   2020-02-02 16:16:01 
categories: 核查
---

#### 基于sdk日志对imei和qimei进行分析统计

#### 特别说明：
- 日志源说明： 
-  **

#### 结论
1.  

# 疑问
**1、为什么异常的imei这么多 ，需要用qimei替换？**
***
#一、背景

**由于部分玩家获取不到imei，msdk会用qimei进行补充，正常获取imei长度是15位，用qimei替换的用户设备是不等于15位数的。
每天获取不到，需要用qimei补充的去重后的设备数如下**
格式正确这里是指imei 长度 = 15

|日期|imei用户数|格式正确imei|长度!=15的imei|长度!= 15占比|
| :------------- | :------------- | :------------- | :------------- | :------------- |
|xxx|xxx|xxx|xxx|0.xxx|
 

样例如下
|deviceimei|qimei|
| :------------- | :------------- |
|a000008578c8c5|a000008578c8c5|
|a000005e11a2ba|a000005e11a2ba|
|a0000092ff29eb|a0000092ff29eb|
**可以看到部分用户采集不到imei，msdk上的日志用qimei进行替换，每天占比大约39.3%**

****
#二、整体上看数据分布
##2.1游戏覆盖度：

 
```
select count(distinct  case when  inum_imei > 0 then vgameappid end  ) as imei_appid_cnt ,
count(distinct  case when  inum_qimei > 0 then vgameappid end  ) as qimei_appid_cnt
from
(
select '20190810' as  dtstatdate ,vgameappid, count(distinct deviceimei) as inum_imei,	count(distinct  qimei) as  inum_qimei ,count(distinct   vopenid) as inum_openid  from hy_idog_oss::table
where dtstatdate = 20190810  and  lower(ossystem) 	 =  'android'
group by vgameappid
)t where inum_openid > 5000

```


